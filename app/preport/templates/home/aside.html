{% load i18n%}
<div class="flex flex-col justify-between h-full">
  <div
    class="max-h-[calc(100vh-10rem)] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent"
  >
    <div class="">
      <div class="">
        <a href="/">
          <div
            class="place-self-center  font-semibold font-poppins text-gray-800"
          >
            {% translate "Dashboard" %}
        </div>
        </a>
      </div>

      {% comment %} Confugrations {% endcomment %} 
      {% if user.groups.all.0|stringformat:'s' == "administrator" %}
      <div>
        <!-- Main Heading -->
        <div
          id="configToggle"
          class="font-medium text-nowrap font-poppins text-sm cursor-pointer p-2 rounded-lg hover:text-slate-100 flex items-center justify-between hover:bg-indigo-600"
        >
          <div>
            <i class="fas fa-cogs"></i>
            <!-- Font Awesome configuration (gear) icon -->
            {% translate "Configuration" %}
          </div>
          <i
            id="configIcon"
            class="right fas fa-angle-left transition-transform duration-300"
          ></i>
        </div>

        <!-- Submenus -->
        <div
          id="configMenu"
          class="pl-4 max-h-0 overflow-hidden opacity-0 transition-all duration-500 ease-in-out border-l-indigo-600 border-l-2"
        >
          <a href="{% url 'user_list' %}" class="block">
            <div
              class="font-medium p-2 text-nowrap rounded-md font-poppins text-sm text-slate-600 hover:bg-indigo-500 hover:text-slate-50"
            >
            <i class="nav-icon fas fa-id-card"></i>
              {% translate "Users" %}
            </div>
          </a>
          <a href="{% url 'user_add' %}" class="block">
            <div
              class="font-medium p-2 text-nowrap rounded-md font-poppins text-sm text-slate-600 hover:bg-indigo-500 hover:text-slate-50"
            >
            <i class="nav-icon fas fa-users-cog"></i>
              {% translate "Add User" %}
            </div>
          </a>
          <a href="{% url 'settings' %}" class="block">
            <div
              class="font-medium p-2 text-nowrap rounded-md font-poppins text-sm text-slate-600 hover:bg-indigo-500 hover:text-slate-50"
            >
            <i class="nav-icon fas fa-cog"></i>
              {% translate "Settings" %}
            </div>
          </a>
        </div>
      </div>
      {% endif %} {% comment %} Customers {% endcomment %}

      <div>
        <a href="{% url 'customer_list' %}">
          <div
            id="customerToggle"
            class="font-medium text-nowrap font-poppins text-sm hover:bg-indigo-600 p-2 rounded-md text-gray-800 hover:text-slate-100 cursor-pointer flex items-center justify-between"
          >
          <div>
          <i class="fas fa-building"></i>
            {% translate "Customers" %}
          </div>
            <i
              id="customerIcon"
              class="fas fa-angle-left transition-transform duration-300"
            ></i>
          </div>
        </a>

        <div
          id="customerMenu"
          class="space-y-2 pl-4 max-h-0 overflow-hidden opacity-0 transition-all duration-500 ease-in-out border-l-indigo-600 border-l-2"
        >
          <a href="{% url 'customer_list' %}">
            <div
              class="font-medium p-2 text-nowrap rounded-md font-poppins text-sm text-slate-600 hover:bg-indigo-500 hover:text-slate-50"
            >
            <i class="fas fa-table"></i>
              {% translate "All Customers" %}
            </div>
          </a>

          {% if user.groups.all.0|stringformat:'s' == "administrator" %}
          <a href="{% url 'customer_add' %}">
            <div
              class="font-medium p-2 text-nowrap rounded-md font-poppins text-sm text-slate-600 hover:bg-indigo-500 hover:text-slate-50"
            >
            <i class="nav-icon fas fa-edit"></i>
              {% translate "Add Customer" %}
            </div>
          </a>
          {% endif %}
        </div>
      </div>

      <div>
        <a href="{% url 'product_list' %}">
          <div
            id="productToggle"
            class="font-medium text-nowrap font-poppins text-sm hover:bg-indigo-600 p-2 rounded-md text-gray-800 hover:text-slate-100 cursor-pointer flex items-center justify-between"
          >
          <div class="">
          <i class="fa fa-cube "></i>
            {% translate "Products" %}
          </div>
            <i
              id="productIcon"
              class="right fas fa-angle-left transition-transform duration-300"
            ></i>
          </div>
        </a>

        <div
          id="productMenu"
          class="space-y-2 pl-4 max-h-0 overflow-hidden opacity-0 transition-all duration-500 ease-in-out border-l-indigo-600 border-l-2"
        >
          <a href="{% url 'product_list' %}">
            <div
              class="font-medium p-2 text-nowrap rounded-md font-poppins text-sm text-slate-600 hover:bg-indigo-500 hover:text-slate-50"
            >
            <i class="fas fa-table"></i>
              {% translate "All Products" %}
            </div>
          </a>

          {% if user.groups.all.0|stringformat:'s' == "administrator" %}
          <a href="{% url 'product_add' %}">
            <div
              class="font-medium p-2 text-nowrap rounded-md font-poppins text-sm text-slate-600 hover:bg-indigo-500 hover:text-slate-50"
            >
            <i class="nav-icon fas fa-edit"></i>
              {% translate "Add Product" %}
            </div>
          </a>
          {% endif %}
        </div>
      </div>

      {% comment %} Reports {% endcomment %}

      <div>
        <a href="{% url 'report_list' %}">
          <div
            id="reportToggle"
            class="font-medium text-nowrap font-poppins text-sm hover:bg-indigo-600 p-2 rounded-md text-gray-800 hover:text-slate-100 cursor-pointer flex items-center justify-between"
          >
          <div>
          <i class="fas fa-copy"></i>
            {% translate "Reports" %}
          </div>
            <i
              id="reportIcon"
              class="right fas fa-angle-left transition-transform duration-300"
            ></i>
          </div>
        </a>

        <div
          id="reportMenu"
          class="space-y-2 pl-4 max-h-0 overflow-hidden opacity-0 transition-all duration-500 ease-in-out border-l-indigo-600 border-l-2"
        >
          <a href="{% url 'report_list' %}">
            <div
              class="font-medium p-2 text-nowrap rounded-md font-poppins text-sm text-slate-600 hover:bg-indigo-500 hover:text-slate-50"
            >
            <i class="nav-icon fas fa-table"></i>
              {% translate "All Reports" %}
            </div>
          </a>

          {% if user.groups.all.0|stringformat:'s' == "administrator" %}
          <a href="{% url 'report_add' %}">
            <div
              class="font-medium p-2 text-nowrap rounded-md font-poppins text-sm text-slate-600 hover:bg-indigo-500 hover:text-slate-50"
            >
            <i class="nav-icon fas fa-edit"></i>
              {% translate "Add Report" %}
            </div>
          </a>
          {% endif %}

          <a href="{% url 'deliverable_list' %}">
            <div
              class="font-medium p-2 text-nowrap rounded-md font-poppins text-sm text-slate-600 hover:bg-indigo-500 hover:text-slate-50"
            >
            <i class="nav-icon fas fa-download"></i>
              {% translate "All Deliverables" %}
            </div>
          </a>
        </div>
      </div>

      {% comment %} Findings {% endcomment %}

      <div>
        <a href="{% url 'openfindings' %}">
          <div
            id="findingsToggle"
            class="font-medium text-nowrap font-poppins text-sm hover:bg-indigo-600 p-2 rounded-md text-gray-800 hover:text-slate-100 cursor-pointer flex items-center justify-between"
          >
          <div>
          <i class="nav-icon fas fa-bug text-danger"></i>
            {% translate "Findings" %}
          </div>
            <i
              id="findingsIcon"
              class="right fas fa-angle-left transition-transform duration-300"
            ></i>
          </div>
        </a>

        <div
          id="findingsMenu"
          class="space-y-2 pl-4 max-h-0 overflow-hidden opacity-0 transition-all duration-500 ease-in-out border-l-indigo-600 border-l-2"
        >
          <a href="{% url 'openfindings' %}">
            <div
              class="font-medium p-2 text-nowrap rounded-md font-poppins text-sm text-slate-600 hover:bg-indigo-500 hover:text-slate-50"
            >
            <i class="nav-icon fas fa-exclamation-triangle"></i>
              {% translate "Open Findings" %}
            </div>
          </a>

          <a href="{% url 'closedfindings' %}">
            <div
              class="font-medium p-2 text-nowrap rounded-md font-poppins text-sm text-slate-600 hover:bg-indigo-500 hover:text-slate-50"
            >
            <i class="nav-icon fas fa-toolbox"></i>
              {% translate "Closed Findings" %}
            </div>
          </a>

          <a href="{% url 'template_list' %}">
            <div
              class="font-medium p-2 text-nowrap rounded-md font-poppins text-sm text-slate-600 hover:bg-indigo-500 hover:text-slate-50"
            >
            <i class="far fa-file-alt nav-icon"></i>
              {% translate "Finding Templates" %}
            </div>
          </a>

          {% if user.groups.all.0|stringformat:'s' == "administrator" %}
          <a href="{% url 'template_add' %}">
            <div
              class="font-medium p-2 text-nowrap rounded-md font-poppins text-sm text-slate-600 hover:bg-indigo-500 hover:text-slate-50"
            >
            <i class="fas fa-file-code nav-icon"></i>
              {% translate "Add Finding Template" %}
            </div>
          </a>
          {% endif %}
        </div>
      </div>

      {% comment %} CWE List {% endcomment %}

      <div>
        <a href="{% url 'cwe_list' %}">
          <div
            id="cweToggle"
            class="font-medium text-nowrap font-poppins text-sm hover:bg-indigo-600 p-2 rounded-md text-gray-800 hover:text-slate-100 cursor-pointer flex items-center justify-between"
          >
          <div>
          <i class=" fas fa-fingerprint"></i>
            {% translate "CWE" %}
          </div>
            <i
              id="cweIcon"
              class="right fas fa-angle-left transition-transform duration-300"
            ></i>
          </div>
        </a>

        <div
          id="cweMenu"
          class="space-y-2 pl-4 max-h-0 overflow-hidden opacity-0 transition-all duration-500 ease-in-out border-l-indigo-600 border-l-2"
        >
          <a href="{% url 'cwe_list' %}">
            <div
              class="font-medium p-2 text-nowrap rounded-md font-poppins text-sm text-slate-600 hover:bg-indigo-500 hover:text-slate-50"
            >
            <i class="fas fa-radiation-alt"></i>
              {% translate "CWE List" %}
            </div>
          </a>

          {% if user.groups.all.0|stringformat:'s' == "administrator" %}
          <a href="{% url 'cwe_add' %}">
            <div
              class="font-medium p-2 text-nowrap rounded-md font-poppins text-sm text-slate-600 hover:bg-indigo-500 hover:text-slate-50"
            >
            <i class="fas fa-edit "></i>
              {% translate "Add CWE" %}
            </div>
          </a>
          {% endif %}
        </div>
      </div>

      {% comment %} OWASP {% endcomment %}

      <div>
        <a href="{% url 'owasp_list' %}">
          <div
            id="owaspToggle"
            class="font-medium text-nowrap font-poppins text-sm hover:bg-indigo-600 p-2 rounded-md text-gray-800 hover:text-slate-100 cursor-pointer flex items-center justify-between"
          >
          <div>
            <i class="nav-icon fas fa-fingerprint text-info"></i>
            {% translate "OWASP" %}
          </div>
            <i
              id="owaspIcon"
              class="right fas fa-angle-left transition-transform duration-300"
            ></i>
          </div>
        </a>

        <div
          id="owaspMenu"
          class="space-y-2 pl-4 max-h-0 overflow-hidden opacity-0 transition-all duration-500 ease-in-out border-l-indigo-600 border-l-2"
        >
          <a href="{% url 'owasp_list' %}">
            <div
              class="font-medium p-2 text-nowrap rounded-md font-poppins text-sm text-slate-600 hover:bg-indigo-500 hover:text-slate-50"
            >
            <i class="nav-icon fas fa-radiation-alt"></i>
              {% translate "OWASP List" %}
            </div>
          </a>

          {% if user.groups.all.0|stringformat:'s' == "administrator" %}
          <a href="{% url 'owasp_add' %}">
            <div
              class="font-medium p-2 text-nowrap rounded-md font-poppins text-sm text-slate-600 hover:bg-indigo-500 hover:text-slate-50"
            >
            <i class="fas fa-edit nav-icon"></i>
              {% translate "Add OWASP" %}
            </div>
          </a>
          {% endif %}
        </div>
      </div>
    </div>
  </div>

  <div class="mb-4 hover:bg-red-500 text-slate-800 hover:text-slate-100 border-2 p-2 rounded-md">
    <i class="fas fa-power-off"></i>
    <form id="logout-form" method="post" action="{% url 'logout' %}">
      {% csrf_token %}
      <a class="font-poppins font-medium text-sm text-slate-900" role="button" href="#" onclick="document.getElementById('logout-form').submit(); return false;">
        {% translate "Logout" %} {{request.user }} {% translate "session" %}
      </a>
    </form>
  </div>
</div>
